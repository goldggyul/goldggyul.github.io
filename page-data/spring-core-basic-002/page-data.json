{"componentChunkName":"component---src-templates-blog-template-js","path":"/spring-core-basic-002/","result":{"data":{"cur":{"id":"4ba630a1-8d66-584c-8256-51a431cfe728","html":"<blockquote>\n<p>본 게시글은 <a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8\">스프링 핵심 원리 - 기본편</a> 강의를 듣고 정리했습니다.</p>\n</blockquote>\n<h1 id=\"️-스프링-핵심-원리-이해1---예제-만들기\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B41---%EC%98%88%EC%A0%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"️ 스프링 핵심 원리 이해1   예제 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>☘️ 스프링 핵심 원리 이해1 - 예제 만들기</h1>\n<p>그럼 인터페이스(역할)와 구현하는 객체를 나누어서 개발을 해보자</p>\n<h2 id=\"-프로젝트-생성\" style=\"position:relative;\"><a href=\"#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-label=\" 프로젝트 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 프로젝트 생성</h2>\n<p>순수 자바로만 할거라 스프링을 쓰진 않지만 세팅할 때 스프링부트를 이용하면 편해서 일단 스프링부트로 생성하자 -> <a href=\"https://start.spring.io\">스프링 부트 스타터</a></p>\n<ul>\n<li>\n<p>스프링 부트 버전에서 snapshot, m5 이런 건 안정화가 아직 안된 것이니 가장 최신 안정화가 된 걸 선택하자. (현재 시점 2.7.4)</p>\n</li>\n<li>\n<p>artifact가 프로젝트 빌드명이 된다.</p>\n</li>\n<li>\n<p>자바 11</p>\n</li>\n<li>\n<p>dependency는 선택하지 않는다.</p>\n</li>\n</ul>\n<p>생성 후 인텔리제이에서 열어주자. 이 때 Preference>Build>Build Tools>Gradle에서 Build and run, Run tests를 gradle이 아닌 intellij를 사용하도록 변경하자. 이게 좀 더 빠르다.</p>\n<h2 id=\"-비즈니스-요구사항\" style=\"position:relative;\"><a href=\"#-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\" aria-label=\" 비즈니스 요구사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 비즈니스 요구사항</h2>\n<blockquote>\n<h3 id=\"역할과-구현-구분하기\" style=\"position:relative;\"><a href=\"#%EC%97%AD%ED%95%A0%EA%B3%BC-%EA%B5%AC%ED%98%84-%EA%B5%AC%EB%B6%84%ED%95%98%EA%B8%B0\" aria-label=\"역할과 구현 구분하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>역할과 구현 구분하기!</h3>\n</blockquote>\n<p>우선 요구사항은 3가지로 <code class=\"language-text\">회원</code>, <code class=\"language-text\">주문</code>, <code class=\"language-text\">할인 정책</code>이 있다.</p>\n<h3 id=\"회원\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90\" aria-label=\"회원 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원</h3>\n<ul>\n<li>회원을 가입하고 조회할 수 있다.</li>\n<li>회원은 일반과 VIP 두 가지 등급이 있다.</li>\n<li>회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다. (미확정)</li>\n</ul>\n<h3 id=\"주문과-할인-정책\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85\" aria-label=\"주문과 할인 정책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주문과 할인 정책</h3>\n<ul>\n<li>회원은 상품을 주문할 수 있다.</li>\n<li>회원 등급에 따라 할인 정책을 적용할 수 있다.</li>\n<li>할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용해달라. (나중에 변경 될 수 있다.)</li>\n<li>할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 싶다. 최악의 경우 할인을 적용하지 않을 수 도 있다. (미확정)</li>\n</ul>\n<p>요구 사항을 정리해보면 회원 데이터나, 할인 정책은 아직 결정되지 않았다. 하지만 앞에서 배운 객체 지향 설계 방법대로 인터페이스를 만들고 구현체를 언제든지 갈아끼울 수 있도록 설계하면 된다!</p>\n<h2 id=\"-회원-도메인-설계\" style=\"position:relative;\"><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\" aria-label=\" 회원 도메인 설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 회원 도메인 설계</h2>\n<p>회원 데이터가 아직 미확정이므로, 회원 저장소 인터페이스를 만들고 구현체를 만들자.</p>\n<h3 id=\"회원-도메인-협력-관계\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%ED%98%91%EB%A0%A5-%EA%B4%80%EA%B3%84\" aria-label=\"회원 도메인 협력 관계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원 도메인 협력 관계</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2ElEQVQY03VR2QqEQAzz/79LUPHRB30RRRAvvO8zSwqVZWEDhZm0k7QdY1kWdF2HYRjA877vEn3fI4oi5HmObdtefp5nTNMkb7T+vm+J67pgUCgMQ6Rp+go3TYOqqmBZFjzPE47Rti3KskSWZfB9X+40U1DUoMN5njiOQxwUPLMDxvM8Lz+Oo4jSsCgKyStYZ3wXK/mPW9dVjAk2Qeg6mJeR2aY++oVy7MpxHARBIPtLkgSu68qe4ziGaZqwbVtWYFBVl/ov+BHcMUfliHVdy51GFOWZn8fcByLZzmdsTJK4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007221452413\"\n        title=\"image-20221007221452413\"\n        src=\"/static/c2ca73a19cc538b981c777cf376787d6/37523/image-20221007221452413.png\"\n        srcset=\"/static/c2ca73a19cc538b981c777cf376787d6/e9ff0/image-20221007221452413.png 180w,\n/static/c2ca73a19cc538b981c777cf376787d6/f21e7/image-20221007221452413.png 360w,\n/static/c2ca73a19cc538b981c777cf376787d6/37523/image-20221007221452413.png 720w,\n/static/c2ca73a19cc538b981c777cf376787d6/302a4/image-20221007221452413.png 1080w,\n/static/c2ca73a19cc538b981c777cf376787d6/07a9c/image-20221007221452413.png 1440w,\n/static/c2ca73a19cc538b981c777cf376787d6/820f7/image-20221007221452413.png 2126w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"회원-클래스-다이어그램\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\" aria-label=\"회원 클래스 다이어그램 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원 클래스 다이어그램</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7UlEQVQoz1WQSa6EUAhF3f+2TG3AODEO7MqBmrLvO34OCcZPQnjAfZcLzrquMo6jlGUpbdsK+X3fcl2XxvM8tbbvu0zTpNhhGKQoCs2XZXmwRGeeZwnDUD6fj/i+ryAzyKqqkr7vH5IkScTzPHFdV4Ig0B5kGNFh8nEcz0RIzOih+m1gwX2/X+3jRqaEyMS2bfs3yT53XfeQsTorElEMGbmJeBTiAFgfkrfCpmm0xkAwEPC2GrmR4w43iKJI0jTV++R5rmvWdS2/309vRC+OY+0bFpIsy7SOcwIEOe81KBDfN8GpG4ZoOKvZXxT/AWruHEP5vVUZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007221507687\"\n        title=\"image-20221007221507687\"\n        src=\"/static/d271ab84edf6fd9a6b03be80454e2c63/37523/image-20221007221507687.png\"\n        srcset=\"/static/d271ab84edf6fd9a6b03be80454e2c63/e9ff0/image-20221007221507687.png 180w,\n/static/d271ab84edf6fd9a6b03be80454e2c63/f21e7/image-20221007221507687.png 360w,\n/static/d271ab84edf6fd9a6b03be80454e2c63/37523/image-20221007221507687.png 720w,\n/static/d271ab84edf6fd9a6b03be80454e2c63/302a4/image-20221007221507687.png 1080w,\n/static/d271ab84edf6fd9a6b03be80454e2c63/07a9c/image-20221007221507687.png 1440w,\n/static/d271ab84edf6fd9a6b03be80454e2c63/5e1f2/image-20221007221507687.png 2134w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"회원-객체-다이어그램\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90-%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\" aria-label=\"회원 객체 다이어그램 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원 객체 다이어그램</h3>\n<p>객체 간 참조를 나타낸다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjUlEQVQI1zWOTQ6FIBCDvf99OIZL2LFRExaIGhH8i/alfXFRmE5nJl9zHAe2bcO6rtK+73jfV7quS72cs2ZqrXieR9l93/LzPKPrOtXcbfgMw4C2bRVM04SUEpZlkaestfDeKxvHUVnf9wghwDkHYwxijP+DpDjPUzSk5f8RkoY95p8+QoqeRzhTStHuD6hI5WwNEvSfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007221536803\"\n        title=\"image-20221007221536803\"\n        src=\"/static/bb1468d5fd9051f43fe2b70720a11559/37523/image-20221007221536803.png\"\n        srcset=\"/static/bb1468d5fd9051f43fe2b70720a11559/e9ff0/image-20221007221536803.png 180w,\n/static/bb1468d5fd9051f43fe2b70720a11559/f21e7/image-20221007221536803.png 360w,\n/static/bb1468d5fd9051f43fe2b70720a11559/37523/image-20221007221536803.png 720w,\n/static/bb1468d5fd9051f43fe2b70720a11559/302a4/image-20221007221536803.png 1080w,\n/static/bb1468d5fd9051f43fe2b70720a11559/07a9c/image-20221007221536803.png 1440w,\n/static/bb1468d5fd9051f43fe2b70720a11559/5e1f2/image-20221007221536803.png 2134w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>회원 서비스: <code class=\"language-text\">MemberServiceImpl</code></li>\n</ul>\n<p>목적? 실제로 서버가 실행 되고 런타임에 MemberRepository에 어떤 구현체가 들어갈 지는 클래스 다이어그램만으로는 알 수 없다. 런타임에 동적으로 결정된다. 따라서 판단하기 어려우므로, 객체 다이어그램에서 실제 사용하는 관계를 나타낸다. 실제로 new 한 객체들끼리의 참조를 볼 수 있다.</p>\n<p>클래스 다이어그램은 정적, 객체 다이어그램은 동적인 관계를 나타낸다.</p>\n<h2 id=\"-회원-도메인-개발\" style=\"position:relative;\"><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\" aria-label=\" 회원 도메인 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 회원 도메인 개발</h2>\n<ul>\n<li>\n<p>단축키</p>\n<ul>\n<li><code class=\"language-text\">Command + Option + V</code>: 왼쪽 선언부 채우기</li>\n<li><code class=\"language-text\">Command + Shift + Enter</code>: 한 줄 마무리</li>\n</ul>\n</li>\n<li>\n<p>Grade</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Grade</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">BASIC</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">VIP</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Member</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Grade</span> grade<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 생성자와 Getter Setter</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>MemberRepository(Interface)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> <span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>MemoryMemberRepository(구현체)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemoryMemberRepository</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> store <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        store<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Member</span> <span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>MemberService(Interface)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MemberService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Member</span> <span class=\"token function\">findMember</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>MemberServiceImple(구현체)</p>\n<ul>\n<li>인터페이스에 대한 구현체가 하나만 있으면 <code class=\"language-text\">인터페이스명+Impl</code>을 많이 사용한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MemberService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 다형성에 의해 구현체의 save 메서드 호출됨</span>\n        memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Member</span> <span class=\"token function\">findMember</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"-회원-도메인-실행과-테스트\" style=\"position:relative;\"><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" 회원 도메인 실행과 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 회원 도메인 실행과 테스트</h2>\n<h3 id=\"main에서-테스트\" style=\"position:relative;\"><a href=\"#main%EC%97%90%EC%84%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"main에서 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>main에서 테스트</h3>\n<ul>\n<li>단축키\n<ul>\n<li><code class=\"language-text\">soutv</code>: 위에 변수 중 선택해서 출력</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberApp</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MemberService</span> memberService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"memberA\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        memberService<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> memberService<span class=\"token punctuation\">.</span><span class=\"token function\">findMember</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"new member = \"</span> <span class=\"token operator\">+</span> member<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"find Member = \"</span> <span class=\"token operator\">+</span> findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>매번 main에서 출력해서 눈으로 확인하는 것은 어렵다.</p>\n<h3 id=\"테스트-함수-작성\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%A8%EC%88%98-%EC%9E%91%EC%84%B1\" aria-label=\"테스트 함수 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 함수 작성</h3>\n<ul>\n<li>테스트 문법\n<ul>\n<li>given: ~~한 환경에서</li>\n<li>when: ~~게 주어졌을 때</li>\n<li>then: ~~게 된다</li>\n</ul>\n</li>\n<li>눈으로 결과를 보면서 테스트가 잘 됐는지 확인할 필요가 없다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberServiceTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">MemberService</span> memberService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// given</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"memberA\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// when</span>\n        memberService<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> memberService<span class=\"token punctuation\">.</span><span class=\"token function\">findMember</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// then</span>\n        <span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span><span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h3 id=\"문제점\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제점</h3>\n<ul>\n<li>\n<p>OCP 원칙을 지키는가?</p>\n<ul>\n<li>구현체가 바뀌면 MemberService의 코드를 수정해야 한다.</li>\n</ul>\n</li>\n<li>\n<p>DIP 원칙을 지키는가?</p>\n<ul>\n<li>\n<p>MemberService가 인터페이스인 MemberRepository를 의존하고 있긴 하지만 구현체인 MemoryMemberRepository까지 의존하고 있다.</p>\n<p>➡️ 추상화, 구체화 둘다 의존하고 있다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-주문과-할인-도메인-설계\" style=\"position:relative;\"><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\" aria-label=\" 주문과 할인 도메인 설계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 주문과 할인 도메인 설계</h2>\n<ul>\n<li>상품은 Item같은 객체를 따로 만드는 게 아니고 예제를 간단하게 만들기 위해 상품명으로 구분하도록 한다.</li>\n</ul>\n<h3 id=\"u협력-역할-책임u\" style=\"position:relative;\"><a href=\"#u%ED%98%91%EB%A0%A5-%EC%97%AD%ED%95%A0-%EC%B1%85%EC%9E%84u\" aria-label=\"u협력 역할 책임u permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><u>협력, 역할, 책임</u></h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6ElEQVQoz21R2QqEQAyb//8q331UQUQFH7zvC2+zpDDLwG4gVDudpO2o+77xPA8Yyfd9QTDqnCbriOu6cBwH1nXFPM9YlkW+mVNaQIMFQRBI0T/0fY+qqtC2LfI8RxzHCMMQaZpi33coqmrS+TxPWJaFpmmkS/OM0XVdZFkm4hQwybuKrdIliiIMwyDOdCyKQmKSJHJOUog1hB7fBBtQVOaYJMV934dt2yKgdzRNk3TADh3H+XbIvZpi/P/ZIZP68j90XSc7rOsaZVnKvj3PE5Nt26D062maBmbePNOmnGAcR1kDH5Gv/AGnchyIqvhRJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007232441646\"\n        title=\"image-20221007232441646\"\n        src=\"/static/1cd927cdd3dd05423c289965218028f5/37523/image-20221007232441646.png\"\n        srcset=\"/static/1cd927cdd3dd05423c289965218028f5/e9ff0/image-20221007232441646.png 180w,\n/static/1cd927cdd3dd05423c289965218028f5/f21e7/image-20221007232441646.png 360w,\n/static/1cd927cdd3dd05423c289965218028f5/37523/image-20221007232441646.png 720w,\n/static/1cd927cdd3dd05423c289965218028f5/302a4/image-20221007232441646.png 1080w,\n/static/1cd927cdd3dd05423c289965218028f5/07a9c/image-20221007232441646.png 1440w,\n/static/1cd927cdd3dd05423c289965218028f5/a8979/image-20221007232441646.png 1828w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>주문 생성: 클라이언트는 주문 서비스에 주문 생성을 요청한다.</li>\n<li>회원 조회: 할인을 위해서는 회원 등급이 필요하다. 그래서 주문 서비스는 회원 저장소에서 회원을 조회한다.</li>\n<li>할인 적용: 주문 서비스는 회원 등급에 따른 할인 여부를 할인 정책에 위임한다.</li>\n<li>주문 결과 반환: 주문 서비스는 할인 결과를 포함한 주문 결과를 반환한다</li>\n</ol>\n<h3 id=\"역할--구현\" style=\"position:relative;\"><a href=\"#%EC%97%AD%ED%95%A0--%EA%B5%AC%ED%98%84\" aria-label=\"역할  구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>역할 + 구현</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbklEQVQ4y5WU246CQAyGef8H88JbvECDiuBZQSXgEezma9LJqKybbdI4dPr/PY5B0zTStq3w+5fi93g85Ha7yfl8lqqqVC+Xi/MJcPLl+XyqdgnA4/Eo2+1W1uu1jMdjieNYbYZTQvvwiXyb2ckMRe73uxIXRaFnfOAK3rPBYT6ff2RHqVmWyeFwcIRkfL1eXwntgp4gy+VSer2eOmA3EJkRCMLFYiGDwcDdUzY4/IK6riVJEo1elqVeRlGkYOyz2Ux7Rc9Op5MGgnA4HApYI8RG0MAmBjsTgwxnwAA2m42WxHk0Gkme5/KbdPbQHwrRCUL/+N7v9/ptYJ/IEb5P2QKQNaWmaSrT6dStDZlyx6qQLZPG5oZi7O+ELKmBIbJJkyFEDGcymWgwfOD5IPTL7WqBLwSElAD0+KXkrkX+phCglhVne5ofT++bQMY2UGoYhloqq9bv97XXuof05T9/DoDo4W63cw9itVrpkNjDH2MDQNHPpJ+ZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007232420132\"\n        title=\"image-20221007232420132\"\n        src=\"/static/a4741d75e11d2e44d07a71dc0b021d97/37523/image-20221007232420132.png\"\n        srcset=\"/static/a4741d75e11d2e44d07a71dc0b021d97/e9ff0/image-20221007232420132.png 180w,\n/static/a4741d75e11d2e44d07a71dc0b021d97/f21e7/image-20221007232420132.png 360w,\n/static/a4741d75e11d2e44d07a71dc0b021d97/37523/image-20221007232420132.png 720w,\n/static/a4741d75e11d2e44d07a71dc0b021d97/302a4/image-20221007232420132.png 1080w,\n/static/a4741d75e11d2e44d07a71dc0b021d97/07a9c/image-20221007232420132.png 1440w,\n/static/a4741d75e11d2e44d07a71dc0b021d97/c95f0/image-20221007232420132.png 1842w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><u><strong>역할과 구현을 분리</strong></u>해서 자유롭게 구현 객체를 조립할 수 있게 설계했다. 덕분에 회원 저장소는 물론이고, 할인 정책도 유연하게 변경할 수 있다.</p>\n<ul>\n<li>예를 들어 지금은 1000원으로 정액 할인이라고 해도, 정률 할인으로 10%할인 등 다른 할인 정책을 만들어 유연하게 변경할 수 있다.</li>\n</ul>\n<h3 id=\"클래스-다이어그램\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\" aria-label=\"클래스 다이어그램 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클래스 다이어그램</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABdUlEQVQ4y4WTW4+CQAyF5///LsKTrxBfUExU8IIXvAvSzdfkGMK6bpOGmbZz5vRMCa/Xy2Rd17krpj2OPZ9Pu91uVte17XY7Xz8ej/eZtm0t3O93O51OVlWVnc9nD2LsObTf790Ph4PNZjObTqc2Go0sjmObTCZ2uVzehAANBMbjsUVR5AeapnEHRDfLiUNgs9nYfD53drBWNw5IANDFYuHFBIkdj0cbGnnV0zYX0LYkcUAVk+xTF2Bfn+v16l/t+QLIJeogoFtZllYUha1WK9cTvdAPE3ty1C2XS9tut16nczgScWFQYr1e+5dWSAqQNpVHO4DJw4w9Tp56agM0JbpemDUsP9lfI/XWsD+H/QRtaXT0zfPc12ma+ujAjjb78xu+3Tg0xEfzLMssSRJvffiYvwCH4MOWmD2NDRew/wr4CYwaWtPr8yAwYw9LWANO/UcNh8Zh9GI8+EMAZTr4DXl1xgpQLGhA/3NY4TBlPLiEteKalh9FqD/AE5VyugAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007232806335\"\n        title=\"image-20221007232806335\"\n        src=\"/static/8674daae24c422d6d7e11a9cdae59fed/37523/image-20221007232806335.png\"\n        srcset=\"/static/8674daae24c422d6d7e11a9cdae59fed/e9ff0/image-20221007232806335.png 180w,\n/static/8674daae24c422d6d7e11a9cdae59fed/f21e7/image-20221007232806335.png 360w,\n/static/8674daae24c422d6d7e11a9cdae59fed/37523/image-20221007232806335.png 720w,\n/static/8674daae24c422d6d7e11a9cdae59fed/302a4/image-20221007232806335.png 1080w,\n/static/8674daae24c422d6d7e11a9cdae59fed/07a9c/image-20221007232806335.png 1440w,\n/static/8674daae24c422d6d7e11a9cdae59fed/bcec6/image-20221007232806335.png 1834w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"객체-다이어그램\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\" aria-label=\"객체 다이어그램 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체 다이어그램</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsklEQVQY05WRSQ6FQAhE+/6nc+kBTJxn46z180gwLv5GkgoBGqqgw3Vduu/7AbHjnX/jOA7N86yu6zRNk6qq0jiOWtdVgaI3n+ept/0jwNq21bIsKsvShkVRpDRNtW2bAoW6rlUUhbENw2BMNPGYWtM0VidH3Pf9Q4oIyPDABtKYZZnJBuRYxxWAPM9tEHkIMB/knm0DwVdDKZskSWKK4zg2UruhM3yBfw69nIlNUL/vu36Q3NMsroOmtQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221007232908156\"\n        title=\"image-20221007232908156\"\n        src=\"/static/efbad4a72c95f7bd40a3dd3c15b093b7/37523/image-20221007232908156.png\"\n        srcset=\"/static/efbad4a72c95f7bd40a3dd3c15b093b7/e9ff0/image-20221007232908156.png 180w,\n/static/efbad4a72c95f7bd40a3dd3c15b093b7/f21e7/image-20221007232908156.png 360w,\n/static/efbad4a72c95f7bd40a3dd3c15b093b7/37523/image-20221007232908156.png 720w,\n/static/efbad4a72c95f7bd40a3dd3c15b093b7/302a4/image-20221007232908156.png 1080w,\n/static/efbad4a72c95f7bd40a3dd3c15b093b7/07a9c/image-20221007232908156.png 1440w,\n/static/efbad4a72c95f7bd40a3dd3c15b093b7/29beb/image-20221007232908156.png 1830w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>혹시 구현체가 바뀌더라도 <u><strong>역할들의 협력 관계를 그대로 재사용</strong></u>할 수 있다.</li>\n</ul>\n<h2 id=\"-주문과-할인-도메인-개발\" style=\"position:relative;\"><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\" aria-label=\" 주문과 할인 도메인 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 주문과 할인 도메인 개발</h2>\n<ul>\n<li>\n<p>단축키</p>\n<ul>\n<li><code class=\"language-text\">f2</code>: 오류 있는 곳으로 이동 (패키지 임포트 못했을 때 f2 누르고 옵션 엔터 하는 식으로 이용)</li>\n</ul>\n</li>\n<li>\n<p>DiscountPolicy(Interface): 할인 정책</p>\n<ul>\n<li>멤버를 인자로 받고 등급에 따라서 할인되는 금액을 리턴</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * @return 할인 대상 금액\n     */</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">discount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>FixDiscountPolicy(구현체)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FixDiscountPolicy</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> discountFixAmount <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1000원 정액 할인</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">discount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// enum은 ==으로 비교</span>\n        <span class=\"token comment\">// 등급만 받아도 됐지만 확장성 등을 고려 .. 이건 상황에 따라 고민해봐야함</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span><span class=\"token function\">getGrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> discountFixAmount<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Order</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Order</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> itemName<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> itemPrice<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> discountPrice<span class=\"token punctuation\">;</span>\n  \n  \t<span class=\"token comment\">// 생성자, Getter, Setter, toString</span>\n  \n    <span class=\"token comment\">// 계산</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">calculatePrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> itemPrice <span class=\"token operator\">-</span> discountPrice<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>OrderService(인터페이스)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">OrderService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 주문 생성 메세지 -> 주문 결과 반환</span>\n    <span class=\"token class-name\">Order</span> <span class=\"token function\">createOrder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> itemName<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> itemPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>OrderServiceImple(구현체)</p>\n<ul>\n<li>주문 서비스는 정말 <u><strong>주문만</strong></u>해서 넘긴다. 이렇게 함으로써 할인 정책에 변화가 생겨도 주문 서비스는 영향을 받지 않는다.</li>\n<li>SRP 원칙이 잘 지켜졌다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OrderService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FixDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Order</span> <span class=\"token function\">createOrder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> itemName<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> itemPrice<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 할인은 모르겠고 네가 알아서 해줘~ 난 정말 주문만. -> SRP good</span>\n        <span class=\"token keyword\">int</span> discountPrice <span class=\"token operator\">=</span> discountPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">discount</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> itemPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> itemName<span class=\"token punctuation\">,</span> itemPrice<span class=\"token punctuation\">,</span> discountPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"-주문과-할인-도메인-실행과-테스트\" style=\"position:relative;\"><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" 주문과 할인 도메인 실행과 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 주문과 할인 도메인 실행과 테스트</h2>\n<p>단위 테스트를 잘 만드는 것이 굉장히 중요하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderServiceTest</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">MemberService</span> memberService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">OrderService</span> orderService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createOrder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> <span class=\"token string\">\"memberA\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        memberService<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// VIP 인 경우 1000원 할인이 됐는가</span>\n        <span class=\"token class-name\">Order</span> order <span class=\"token operator\">=</span> orderService<span class=\"token punctuation\">.</span><span class=\"token function\">createOrder</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> <span class=\"token string\">\"itemA\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span><span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">.</span><span class=\"token function\">getDiscountPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2 id=\"-정리\" style=\"position:relative;\"><a href=\"#-%EC%A0%95%EB%A6%AC\" aria-label=\" 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🍄 정리</h2>\n<p>역할과 구현을 잘 분리해서 만들자.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EF%B8%8F-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B41---%EC%98%88%EC%A0%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\">☘️ 스프링 핵심 원리 이해1 - 예제 만들기</a></p>\n<ul>\n<li>\n<p><a href=\"#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">📌 프로젝트 생성</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\">📌 비즈니스 요구사항</a></p>\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90\">회원</a></li>\n<li><a href=\"#%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85\">주문과 할인 정책</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\">📌 회원 도메인 설계</a></p>\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%ED%98%91%EB%A0%A5-%EA%B4%80%EA%B3%84\">회원 도메인 협력 관계</a></li>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">회원 클래스 다이어그램</a></li>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">회원 객체 다이어그램</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\">📌 회원 도메인 개발</a></p>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\">📌 회원 도메인 실행과 테스트</a></p>\n<ul>\n<li><a href=\"#main%EC%97%90%EC%84%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\">main에서 테스트</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%A8%EC%88%98-%EC%9E%91%EC%84%B1\">테스트 함수 작성</a></li>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\">문제점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\">📌 주문과 할인 도메인 설계</a></p>\n<ul>\n<li><a href=\"#u%ED%98%91%EB%A0%A5-%EC%97%AD%ED%95%A0-%EC%B1%85%EC%9E%84u\"><u>협력, 역할, 책임</u></a></li>\n<li><a href=\"#%EC%97%AD%ED%95%A0--%EA%B5%AC%ED%98%84\">역할 + 구현</a></li>\n<li><a href=\"#%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">클래스 다이어그램</a></li>\n<li><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">객체 다이어그램</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\">📌 주문과 할인 도메인 개발</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\">📌 주문과 할인 도메인 실행과 테스트</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%A0%95%EB%A6%AC\">🍄 정리</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"본 게시글은 스프링 핵심 원리 - 기본편 강의를 듣고 정리했습니다. ☘️ 스프링 핵심 원리 이해1 - 예제 만들기 그럼 인터페이스(역할)와 구현하는 객체를 나누어서 개발을 해보자 📌 프로젝트 생성 순수 자바로만 할거라 스프링을 쓰진 않지만 세팅할 때 스프링부트를 이용하면 편해서 일단 스프링부트로 생성하자 -> 스프링 부트 스타터 스프링 부트 버전에서 snapshot, m5 이런 건 안정화가 아직 안된 것이니 가장 최신 안정화가 된 걸 선택하자. (현재 시점 2.7.4) artifact가 프로젝트 빌드명이 된다. 자바 11 dependency는 선택하지 않는다. 생성 후 인텔리제이에서 열어주자. 이 때 Preference>Build>Build Tools>Gradle에서 Build and run, Run tests를 gradle이 아닌 intellij를 사용하도록 변경하자. 이게 좀 더 빠르다. 📌 비즈니스 요구사항 역할과 구현 구분하기! 우선 요구사항은 3가지로 , , 이 있다. 회원…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EF%B8%8F-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B41---%EC%98%88%EC%A0%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\">☘️ 스프링 핵심 원리 이해1 - 예제 만들기</a></p>\n<ul>\n<li>\n<p><a href=\"#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">📌 프로젝트 생성</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\">📌 비즈니스 요구사항</a></p>\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90\">회원</a></li>\n<li><a href=\"#%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85\">주문과 할인 정책</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\">📌 회원 도메인 설계</a></p>\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%ED%98%91%EB%A0%A5-%EA%B4%80%EA%B3%84\">회원 도메인 협력 관계</a></li>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">회원 클래스 다이어그램</a></li>\n<li><a href=\"#%ED%9A%8C%EC%9B%90-%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">회원 객체 다이어그램</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\">📌 회원 도메인 개발</a></p>\n</li>\n<li>\n<p><a href=\"#-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\">📌 회원 도메인 실행과 테스트</a></p>\n<ul>\n<li><a href=\"#main%EC%97%90%EC%84%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\">main에서 테스트</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%A8%EC%88%98-%EC%9E%91%EC%84%B1\">테스트 함수 작성</a></li>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\">문제점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84\">📌 주문과 할인 도메인 설계</a></p>\n<ul>\n<li><a href=\"#u%ED%98%91%EB%A0%A5-%EC%97%AD%ED%95%A0-%EC%B1%85%EC%9E%84u\"><u>협력, 역할, 책임</u></a></li>\n<li><a href=\"#%EC%97%AD%ED%95%A0--%EA%B5%AC%ED%98%84\">역할 + 구현</a></li>\n<li><a href=\"#%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">클래스 다이어그램</a></li>\n<li><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8\">객체 다이어그램</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%B0%9C\">📌 주문과 할인 도메인 개발</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%A3%BC%EB%AC%B8%EA%B3%BC-%ED%95%A0%EC%9D%B8-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%8B%A4%ED%96%89%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8\">📌 주문과 할인 도메인 실행과 테스트</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%A0%95%EB%A6%AC\">🍄 정리</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"date":"October 07, 2022","title":"예제 만들기 - 스프링 핵심 원리 기본편 02 | 매일 1시간 👨🏻‍🏫 7일차","categories":"강의","author":"goldggyul","emoji":null,"imageEmoji":"spring-logo.png"},"fields":{"slug":"/spring-core-basic-002/"}},"next":{"id":"1441ecc1-3f98-5af5-a652-8bbad3ba38a9","html":"<blockquote>\n<p>본 게시글은 <a href=\"http://www.yes24.com/Product/Goods/18249021\">객체지향의 사실과 오해</a> 책을 읽고 작성했습니다.</p>\n</blockquote>\n<h1 id=\"-객체지향의-사실과-오해--역할-책임-협력-관점에서-본-객체지향\" style=\"position:relative;\"><a href=\"#-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4--%EC%97%AD%ED%95%A0-%EC%B1%85%EC%9E%84-%ED%98%91%EB%A0%A5-%EA%B4%80%EC%A0%90%EC%97%90%EC%84%9C-%EB%B3%B8-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5\" aria-label=\" 객체지향의 사실과 오해  역할 책임 협력 관점에서 본 객체지향 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📓 객체지향의 사실과 오해 | 역할, 책임, 협력 관점에서 본 객체지향</h1>\n<p>세 줄 요약</p>\n<ol>\n<li>객체는 <u><strong>협력하기 위한 존재</strong></u>이므로, 협력에 참여할 수 있는 <u><strong>유일한 방법인 행동</strong></u>에 초점을 맞춰라. 그 이후에 필요한 <u><strong>상태</strong></u>를 선택하게 되는 것이다.</li>\n<li>객체는 협력 속에서 메세지를 통해 행동이 유발되지만, 객체의 상태가 변경될 지 아닐 지는 <u><strong>객체 스스로 결정</strong></u>한다.</li>\n<li>객체가 <u><strong>상태를 숨기고</strong></u> 행동을 경계로 <u><strong>캡슐화</strong></u>함으로써 <u><strong>객체의 자율성</strong></u>이 높아지고 협력을 단순하고 유연하게 만들 수 있다.</li>\n</ol>\n<h1 id=\"-이상한-나라의-객체\" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EC%83%81%ED%95%9C-%EB%82%98%EB%9D%BC%EC%9D%98-%EA%B0%9D%EC%B2%B4\" aria-label=\" 이상한 나라의 객체 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>😼 이상한 나라의 객체</h1>\n<h2 id=\"객체\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4\" aria-label=\"객체 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체</h2>\n<ul>\n<li>\n<h3 id=\"객체지향과-인지-능력\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EA%B3%BC-%EC%9D%B8%EC%A7%80-%EB%8A%A5%EB%A0%A5\" aria-label=\"객체지향과 인지 능력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체지향과 인지 능력</h3>\n</li>\n</ul>\n<p>객체지향 패러다임은 인간이 인지할 수 있는 다양한 객체들이 모여 현실 세계를 이루는 것처럼, 소프트웨어의 세계 역시 인간이 인지할 수 있는 다양한 <u><strong>소프트웨어 객체들이 모여 이루어져 있다</strong></u>는 믿음에서 출발한다. 현실세계와 소프트웨어 세계 사이의 유사성은 여기까지고, 객체지향 패러다임의 목적은 현실 세계와 소프트웨어 세계의 1:1 모방이 아닌, <u><strong>현실 세계를 기반으로 새로운 세계를 창조</strong></u>하는 것이다.</p>\n<ul>\n<li>\n<h3 id=\"상태-행동-식별자\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%83%9C-%ED%96%89%EB%8F%99-%EC%8B%9D%EB%B3%84%EC%9E%90\" aria-label=\"상태 행동 식별자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>상태, 행동, 식별자</h3>\n</li>\n</ul>\n<p><u><strong>상태는 행동의 결과</strong></u>다. 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다. 객체의 프로퍼티는 단순한 값(숫자, 문자열, 참/거짓 등등)과 다른 객체를 참조하는 링크로 구분할 수 있다.</p>\n<ul>\n<li>\n<h3 id=\"객체는-자율적인-존재\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4%EB%8A%94-%EC%9E%90%EC%9C%A8%EC%A0%81%EC%9D%B8-%EC%A1%B4%EC%9E%AC\" aria-label=\"객체는 자율적인 존재 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체는 자율적인 존재</h3>\n</li>\n</ul>\n<p>객체는 자율적인 존재다. 자율적인 <u><strong>객체는 스스로 자신의 상태를 책임</strong></u>져야 한다. 외부의 객체가 객체의 상태를 간접적으로 변경하거나 조회하기 위해선 행동을 이용한다. 객체지향의 기본 사상은 <u><strong>상태/(상태를 조작하기 위한) 행동을 하나의 단위로 묶는 것</strong></u>이다.</p>\n<p>객체는 혼자 있지 않는다. 객체는 다른 객체와 상호작용하며 협력하는 공동체에 참여한다. 객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 메세지를 보내는 것 뿐이다. 이런 메세지를 통해 객체의 행동이 유발되지만, 진짜 객체의 상태를 변경할지 말지는 객체 스스로 결정한다.</p>\n<p>상태를 외부에 노출시키지 않고 행동을 경계로 <code class=\"language-text\">캡슐화</code>함으로써 객체의 자율성을 높일 수 있다. 캡슐화를 통해 객체의 자율성을 높이고 협력을 단순하고 유연하게 만들 수 있다.</p>\n<h2 id=\"-행동이-상태를-결정한다\" style=\"position:relative;\"><a href=\"#-%ED%96%89%EB%8F%99%EC%9D%B4-%EC%83%81%ED%83%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%9C%EB%8B%A4\" aria-label=\" 행동이 상태를 결정한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ 행동이 상태를 결정한다</h2>\n<p>객체지향에서 쉽게 빠지는 함정은 <u><strong>상태를 중심으로 객체를 바라보는 것</strong></u>이다. 초보자들은 먼저 객체에 필요한 상태가 무엇인지를 결정하고, 그 상태에 필요한 행동을 결정한다.</p>\n<ul>\n<li>앨리스 객체를 설계할 때, 초보자들은 앨리스 객체에계 필요한 상태로 키와 위치를 추가한 후에야 키와 위치를 변경하거나 조회할 수 있는 행동이 무엇인지를 고민한다.</li>\n</ul>\n<p>하지만 <u><strong>상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.</strong></u></p>\n<ol>\n<li>캡슐화가 저해된다. 상태에 초점을 맞출 경우 상태가 객체 내부로 깔끔하게 캡슐화되지 못하고 공용 인터페이스에 그대로 노출되어버릴 확률이 높아진다.</li>\n<li>객체를 협력자가 아닌 고립된 섬으로 만든다. 객체가 필요한 이유는 다른 객체와 협력하기 위해서인데, 상태를 먼저 고려할 경우 협력에서 벗어나 객체를 설계하게 함으로써 협력에 적합하지 못한 객체를 창조하게 된다.</li>\n<li>객체의 재사용성이 저하된다. 객체의 재사용성은 다양한 협력에 참여할 수 있는 능력에서 나오는데, 상태에 초점을 맞춘다면 그게 어렵다.</li>\n</ol>\n<p>객체 시민의 덕목은 상태가 아니라 행동에 초점을 맞추는 것이다. 객체는 다른 객체와 협력하기 위해 존재하고, 객체의 행동은 객체가 협력에 참여하는 유일한 방법이기 때문이다.</p>\n<br/>\n<p>객체지향 설계에선 애플리케이션에 필요한 <u><strong>협력</strong></u>을 생각하고, 협력에 참여하는 데 필요한 <u><strong>행동</strong></u>을 생각하고, 행동을 수행할 <u><strong>객체</strong></u>를 선택한 후에, 행동을 결정하고 행동에 필요한 정보가 무엇인지를 고려하면서 그제서야 적절한 <u><strong>상태</strong></u>를 선택하게 되는 것이다.</p>\n<br/>\n<p>객체의 행동은 결국 객체가 협력에 참여하면서 완수해야 하는 <u><strong>책임</strong></u>이다. 따라서 어떤 책임이 필요한가를 결정하는 과정이 설계를 주도해야 한다. -> <code class=\"language-text\">책임-주도 설계</code>는 협력 안에서 객체의 행동을 생각하도록 도움으로써 응집도 높고 재사용 가능한 객체를 만들 수 있게 한다.</p>\n<h2 id=\"이상한-나라를-창조하라\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%83%81%ED%95%9C-%EB%82%98%EB%9D%BC%EB%A5%BC-%EC%B0%BD%EC%A1%B0%ED%95%98%EB%9D%BC\" aria-label=\"이상한 나라를 창조하라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이상한 나라를 창조하라</h2>\n<p>객체지향 세계는 현실을 모방한 것이 아니다. 현실을 참조할 수 있지만, 현실과 전혀 다른 새로운 세계를 창조한다. <u><strong>우리는 현실을 모방하는 게 아니고 이상한 나라를 창조하기만 하면 된다.</strong></u> 현실을 닮아야 한다는 어떤 제약도 없지만, 내가 창조한 객체의 특성을 상기시킬 수 있다면 현실 속의 객체의 이름을 이용해서 객체를 묘사할 수도 있다. 어쨌든 자유롭게 새로운 세계를 창조하자.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4--%EC%97%AD%ED%95%A0-%EC%B1%85%EC%9E%84-%ED%98%91%EB%A0%A5-%EA%B4%80%EC%A0%90%EC%97%90%EC%84%9C-%EB%B3%B8-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5\">📓 객체지향의 사실과 오해 | 역할, 책임, 협력 관점에서 본 객체지향</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%9D%B4%EC%83%81%ED%95%9C-%EB%82%98%EB%9D%BC%EC%9D%98-%EA%B0%9D%EC%B2%B4\">😼 이상한 나라의 객체</a></p>\n<ul>\n<li><a href=\"#%EA%B0%9D%EC%B2%B4\">객체</a></li>\n<li><a href=\"#-%ED%96%89%EB%8F%99%EC%9D%B4-%EC%83%81%ED%83%9C%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%9C%EB%8B%A4\">✨ 행동이 상태를 결정한다</a></li>\n<li><a href=\"#%EC%9D%B4%EC%83%81%ED%95%9C-%EB%82%98%EB%9D%BC%EB%A5%BC-%EC%B0%BD%EC%A1%B0%ED%95%98%EB%9D%BC\">이상한 나라를 창조하라</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"October 07, 2022","title":"02. 이상한 나라의 객체 |📓 객체지향의 사실과 오해","categories":"도서","author":"goldggyul","emoji":"🐇","imageEmoji":null},"fields":{"slug":"/book-object-real-002/"}},"prev":{"id":"38b9189e-0133-55a7-b6b0-936a28f05241","html":"<blockquote>\n<p>본 게시글은 <a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8\">스프링 핵심 원리 - 기본편</a> 강의를 듣고 정리했습니다.</p>\n</blockquote>\n<h1 id=\"️-스프링-핵심-원리-이해2---객체-지향-원리-적용\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B42---%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%9B%90%EB%A6%AC-%EC%A0%81%EC%9A%A9\" aria-label=\"️ 스프링 핵심 원리 이해2   객체 지향 원리 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>☘️ 스프링 핵심 원리 이해2 - 객체 지향 원리 적용</h1>\n<h2 id=\"-새로운-할인-정책-개발\" style=\"position:relative;\"><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EA%B0%9C%EB%B0%9C\" aria-label=\" 새로운 할인 정책 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 새로운 할인 정책 개발</h2>\n<p>기획자가 정률 할인 정책으로 변경해달라고 했다.</p>\n<p>하지만 우린 유연한 설계가 가능하도록 인터페이스를 이용해서 객체지향 설계 원칙을 준수했으므로 문제가 없다! 과연 그럴 지 한  번 해보자.</p>\n<ul>\n<li>\n<p>단축키</p>\n<ul>\n<li><code class=\"language-text\">command + shift + T</code>: 테스트 생성</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">RateDiscountPolicy</code></p>\n<ul>\n<li>할인과 관련된 부분을 잘 떼어 놨기 때문에 할인 부분만 떼서 테스트를 할 수 있다!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RateDiscountPolicy</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> discountPercent <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">discount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span><span class=\"token function\">getGrade</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> price <span class=\"token operator\">*</span> discountPercent <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 굉장히 불안</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">RateDiscountPolicyTest</code></p>\n<ul>\n<li>성공 테스트만큼 실패 테스트도 중요하다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">RateDiscountPolicyTest</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">RateDiscountPolicy</span> discountPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RateDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VIP는 10% 할인이 적용되어야 한다\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">vip_o</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// given</span>\n        <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> <span class=\"token string\">\"memberA\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">VIP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// when</span>\n        <span class=\"token keyword\">int</span> discount <span class=\"token operator\">=</span> discountPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">discount</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// then</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>discount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 성공 테스트만큼 실패 테스트도 중요하다</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VIP가 아니면 할인이 적용되지 않아야 한다\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">vip_x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// given</span>\n        <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token number\">2L</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span>memberId <span class=\"token punctuation\">,</span><span class=\"token string\">\"memberBasic\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Grade</span><span class=\"token punctuation\">.</span><span class=\"token constant\">BASIC</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// when</span>\n        <span class=\"token keyword\">int</span> discount <span class=\"token operator\">=</span> discountPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">discount</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// then</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>discount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"-새로운-할인-정책-적용과-문제점\" style=\"position:relative;\"><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EC%A0%81%EC%9A%A9%EA%B3%BC-%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\" 새로운 할인 정책 적용과 문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 새로운 할인 정책 적용과 문제점</h2>\n<p>이제 위에서 만든 <code class=\"language-text\">RateDiscountPolicy</code>를 실제로 적용해보자.</p>\n<p>어라라? 근데 할인 정책을 변경하려면 클라이언트인 <code class=\"language-text\">OrderServiceImpl</code>코드를 고쳐야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RateDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"문제점\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제점</h3>\n<p>그렇다. 사실 OCP, DIP를 지킨 것 같았지만 아니다.</p>\n<p>DIP -> 인터페이스에만 의존하고 있는가? 아니다. 구체 클래스에도 의존하고 있다.</p>\n<p>OCP -> 클라이언트를 변경하지 않고 확장할 수 있는가? 아니다. 클라이언트 코드를 변경해야 한다.</p>\n<ul>\n<li>\n<p>의존관계</p>\n<table>\n<thead>\n<tr>\n<th>기대했던 의존관계</th>\n<th>실제 의존관계</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5ElEQVQoz32S2QqEMAxF/f9fE3wWRMEFnwT3fclwAhHpOBO4TZu0N7dpvWVZZBgGGcdRwfw8T7mu6wvE+76XeZ5vz5l1Xe+8RyDPc8myTH2aplJV1RfqupYoitSzx/d9CcNQSQEGqecqpPKbQuw4Dum6TsqylCAIlLhpGtm2TfOqkMHY7eCbuTlUuzFV+CR0iV3PXuszyuxm9PCnQlfpc86VrV/P2DRN7wrfYJV5DPqLRxm9Z01P27ZVT7Gb8J+xhwcwFEWhpPyMOI7VJ0mixTwkP/+ZC4tzLfsiYN93VWlr8vTyA2d9vUFTxEepAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008041208548\"\n        title=\"image-20221008041208548\"\n        src=\"/static/6ee60a32f962cc0d3713cecb9a5d62d9/37523/image-20221008041208548.png\"\n        srcset=\"/static/6ee60a32f962cc0d3713cecb9a5d62d9/e9ff0/image-20221008041208548.png 180w,\n/static/6ee60a32f962cc0d3713cecb9a5d62d9/f21e7/image-20221008041208548.png 360w,\n/static/6ee60a32f962cc0d3713cecb9a5d62d9/37523/image-20221008041208548.png 720w,\n/static/6ee60a32f962cc0d3713cecb9a5d62d9/302a4/image-20221008041208548.png 1080w,\n/static/6ee60a32f962cc0d3713cecb9a5d62d9/07a9c/image-20221008041208548.png 1440w,\n/static/6ee60a32f962cc0d3713cecb9a5d62d9/5e1f2/image-20221008041208548.png 2134w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></td>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/klEQVQoz4WSyYqFQAxF/f9Pc+FaUMQB3TjPs2lOQV77lKYDl8SYSm5ulbUsiwzDIOM4GhCf5ynXdb1Avu97mefZ+GmazJl1XQU7jkMsGsRxLEmSGBAXRfFCXdfieZ7xYRiKbdviuq5pDjAGWnwwpSxL6bruwxC7s1MG1GRZJo7jmOFN08i2bb8NKcKqqhLW/8u0qRqsn7mvhqyiWmjh03OADQDMVHs992/DZ0yt6nXPcTmvhmioKz+1I48k3CyDYUWObzRt2/Zz65ZeAAV5npvGCnSiURAE4vu+eQVRFEmapqKvg3/k8QwzDO9a7fv+BQbiYQBgBxNyrE+sQLIfne+6AucQGc0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008041220170\"\n        title=\"image-20221008041220170\"\n        src=\"/static/1f040c2f5311c1b45d04935d6ed63a39/37523/image-20221008041220170.png\"\n        srcset=\"/static/1f040c2f5311c1b45d04935d6ed63a39/e9ff0/image-20221008041220170.png 180w,\n/static/1f040c2f5311c1b45d04935d6ed63a39/f21e7/image-20221008041220170.png 360w,\n/static/1f040c2f5311c1b45d04935d6ed63a39/37523/image-20221008041220170.png 720w,\n/static/1f040c2f5311c1b45d04935d6ed63a39/302a4/image-20221008041220170.png 1080w,\n/static/1f040c2f5311c1b45d04935d6ed63a39/07a9c/image-20221008041220170.png 1440w,\n/static/1f040c2f5311c1b45d04935d6ed63a39/da893/image-20221008041220170.png 2130w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>따라서 변경하려면 의존관계를 클라이언트에서 변경해야 하는 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABUklEQVQoz52TW6vCMBCE+///Vt/0wWdBsdDWXrQtjbde1JFvIT09gnI4C0OTTTo7yWyC2+2mru8NjB+Phz7FOI66XC7q+17DMNh+5vf73f5jPciyTEkcK00SMc7zXE3TqK7rCcyLolAcx7per4qiSOv1Wm3b2tyL4BuUda1yuVS9WqlyTq5tTUHXdROYo6SqKu33ey0WC4VhqO12K+fcRIjSgCp5FKl3Tn8NyDmNJ/FhhFTIi0LDOFry+Xx+BEr4CdWn08nGwK//EGaZHesbIXE+n00dZnhwwl93CCHy59LfgzUKspcvbnq15CDGdXOZCsfjUYfDwRzl4j1wN01TbTYbK8oYp8lDtNvtzCTyAPUBi1SAnepzUJVjlmU5FaM4IsgzTpLEWoo1Wihgo7+//wSKKTC5DOtcwSfMG32e4yF408wUJr6R3xv6G/xergUi//RedD6gYgG7mQ4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008041254850\"\n        title=\"image-20221008041254850\"\n        src=\"/static/a6bae763a4252dd27ca5bc721da91762/37523/image-20221008041254850.png\"\n        srcset=\"/static/a6bae763a4252dd27ca5bc721da91762/e9ff0/image-20221008041254850.png 180w,\n/static/a6bae763a4252dd27ca5bc721da91762/f21e7/image-20221008041254850.png 360w,\n/static/a6bae763a4252dd27ca5bc721da91762/37523/image-20221008041254850.png 720w,\n/static/a6bae763a4252dd27ca5bc721da91762/302a4/image-20221008041254850.png 1080w,\n/static/a6bae763a4252dd27ca5bc721da91762/07a9c/image-20221008041254850.png 1440w,\n/static/a6bae763a4252dd27ca5bc721da91762/5e1f2/image-20221008041254850.png 2134w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"해결\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결?</h3>\n<p>그럼 진짜 인터페이스만 의존하도록 하면 된다!</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OrderService</span> <span class=\"token punctuation\">{</span>\n <span class=\"token comment\">//private final DiscountPolicy discountPolicy = new RateDiscountPolicy();</span>\n <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>음.. 그렇지만 당연히 할당을 안해줬으므로 NPE가 발생하고 실행이 불가능하다.</p>\n<h2 id=\"-관심사의-분리\" style=\"position:relative;\"><a href=\"#-%EA%B4%80%EC%8B%AC%EC%82%AC%EC%9D%98-%EB%B6%84%EB%A6%AC\" aria-label=\" 관심사의 분리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 관심사의 분리</h2>\n<blockquote>\n<p>애플리케이션을 하나의 공연이라 생각해보자. 각각의 인터페이스를 배역(배우 역할)이라 생각하자. 그런데! 실제 배역 맞는 배우를 선택하는 것은 누가 하는가?</p>\n<p>로미오와 줄리엣 공연을 하면 로미오 역할을 누가 할지 줄리엣 역할을 누가 할지는 배우들이 정하는게 아니다. 이전 코드는 마치 로미오 역할(인터페이스)을 하는 레오나르도 디카프리오(구현체, 배우)가 줄리엣 역할(인터페이스)을 하는 여자 주인공(구현체, 배우)을 직접 초빙하는 것과 같다. 디카프리오는 공연도 해야하고 동시에 여자 주인공도 공연에 직접 초빙해야 하는 다양한 책임을 가지고 있다.</p>\n</blockquote>\n<p>지금 우리 애플리케이션도 마찬가지다. 주문서비스가 직접 할인 정책을 선택하고 있는 것이다.</p>\n<h3 id=\"관심사를-분리하자\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EC%8B%AC%EC%82%AC%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%98%EC%9E%90\" aria-label=\"관심사를 분리하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관심사를 분리하자</h3>\n<p>객체 세상도 똑같다. 실제 실행되는 객체는 본인의 역할만 수행하고, 어떤 구현체가 할당할 지는 공연 기획자가 해야 한다.</p>\n<h3 id=\"code-classlanguage-textappconfigcode-등장\" style=\"position:relative;\"><a href=\"#code-classlanguage-textappconfigcode-%EB%93%B1%EC%9E%A5\" aria-label=\"code classlanguage textappconfigcode 등장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">AppConfig</code> 등장</h3>\n<p>기획자를 만들어보자.</p>\n<blockquote>\n<p>애플리케이션의 전체 동작 방식을 구성(config)하기 위해, 구현 객체를 생성하고, 연결하는 책임을 가지는 별도의 설정 클래스를 만들자.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppConfig</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span> <span class=\"token function\">memberService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   \t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token keyword\">public</span> <span class=\"token class-name\">OrderService</span> <span class=\"token function\">orderService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   \t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FixDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">AppConfig</code>는 생성한 객체 인스턴스의 레퍼런스를 생성자를 통해서 주입(연결)해준다.</p>\n</li>\n<li>\n<p>객체의 생성과 연결은 <code class=\"language-text\">AppConfig</code>가 담당한다. 이제 <code class=\"language-text\">MemberServiceImpl</code>과 <code class=\"language-text\">OrderServiceImpl</code>은 추상에만 의존하면 되고, 이제 진짜로 구체 클래스를 몰라도 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQ0lEQVQ4y52T3YqDQAyF5/3fywt7KXinVrSK/bXaVttqTfmypMiyLNKBMBkmczw5J7rn8yl938vj8RDyrutkHEd5vV5fhQPgdDpJHMeyXq/lfD7rxbfLwS5JEvE8T1arlWRZJtM0fR1uGAZFhuX1etV8yUNb81wZWnv3+121W7rmsgBqZ3e73ZTd4XCQuq5lv9+rSRhkRlnYmfrL5SJVVUkURfoWHO5d27aSpqlqVxSF6rnb7RSch38FNdQGQSC+70sYhnI8Hn8A0RC6MGuaZnHbdIHmTAY706JjYwDb7Vapmz5LTTEjP6YASAGt85Xfrv1nCrXG7DM2UEdQ2DHUAKMFHyLIuSdHHnb0ItATvc1UsPRPITabjbqGjrQBEKPEuSxLzakDHGepz/NcdwJTeeeMgQGQz1uYz5qdYUktbyw4M1JvYor0A8CBrBwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008043709373\"\n        title=\"image-20221008043709373\"\n        src=\"/static/a3003a438bc982cfb278064fc6988e7b/37523/image-20221008043709373.png\"\n        srcset=\"/static/a3003a438bc982cfb278064fc6988e7b/e9ff0/image-20221008043709373.png 180w,\n/static/a3003a438bc982cfb278064fc6988e7b/f21e7/image-20221008043709373.png 360w,\n/static/a3003a438bc982cfb278064fc6988e7b/37523/image-20221008043709373.png 720w,\n/static/a3003a438bc982cfb278064fc6988e7b/302a4/image-20221008043709373.png 1080w,\n/static/a3003a438bc982cfb278064fc6988e7b/07a9c/image-20221008043709373.png 1440w,\n/static/a3003a438bc982cfb278064fc6988e7b/c27e7/image-20221008043709373.png 2144w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li><u><strong>관심사의 분리</strong></u>: 객체를 생성하고 연결하는 역할과 실행하는 역할이 명확히 분리되었다.</li>\n<li>클라이언트인 memberServiceImpl 입장에서 보면 의존관계를 마치 외부에서 주입해주는 것 같다고 해서 DI(Dependency Injection) 우리말로 <u><strong>의존관계 주입</strong></u> 또는 <strong>의존성 주입</strong>이라 한다.\n<ul>\n<li>이 경우엔 생성자를 통해 주입해주므로 생성자 주입이라고 한다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>단축키</p>\n<ul>\n<li><code class=\"language-text\">Command + E</code>: 이전으로 돌아감</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h3>\n<ul>\n<li>AppConfig를 통해서 관심사를 확실하게 분리했다.</li>\n<li>AppConfig는 공연 기획자다. AppConfig는 구체 클래스를 선택한다. 배역에 맞는 담당 배우를 선택한다. 애플리케이션이 어떻게 동작해야 할지 전체 구성을 책임진다.</li>\n<li>이제 각 배우들은 <u><strong>담당 기능을 실행</strong></u>하는 책임만 지면 된다.\n<ul>\n<li>OrderServiceImpl 은 기능을 실행하는 책임만 지면 된다</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-appconfig-리팩터링\" style=\"position:relative;\"><a href=\"#-appconfig-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\" aria-label=\" appconfig 리팩터링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 AppConfig 리팩터링</h2>\n<p>어떤 역할이 있고, 역할에 따른 구현을 어떤 것이 하는 지 잘 보여야 하는데 잘 보이지 않는다.</p>\n<ul>\n<li>단축키\n<ul>\n<li><code class=\"language-text\">Command + Option + M</code>: 함수로 만들고 싶은 곳 블럭 처리해서 메소드로 빼기</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberService</span> <span class=\"token function\">memberService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemberServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">OrderService</span> <span class=\"token function\">orderService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">discountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token function\">discountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FixDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이제 메서드 명만 봐도 역할이 다 드러난다. 그리고 현재 구현 클래스도 잘 보인다.</li>\n<li>설계 그림이 그대로 AppConfig에 드러나게 된다. 애플리케이션 전체 구성이 어떻게 되어있는지 빠르게 파악할 수 있다.</li>\n</ul>\n<h2 id=\"-새로운-구조와-할인-정책-적용\" style=\"position:relative;\"><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B5%AC%EC%A1%B0%EC%99%80-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EC%A0%81%EC%9A%A9\" aria-label=\" 새로운 구조와 할인 정책 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 새로운 구조와 할인 정책 적용</h2>\n<p>이제 진짜로 정률 할인 정책으로 변경해보자. 이제 진짜진짜 클라이언트 쪽은 변경하지 않아도 된다.</p>\n<blockquote>\n<p>AppConfig의 등장으로 애플리케이션이 크게 <u><strong>사용 영역</strong></u>과, <u><strong>객체를 생성하고 구성(Configuration)하는 영역</strong></u>으로 분리되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhElEQVQ4y32T646CQAyFef/30j8+gGFj1BAQvKMjDKDSzdfYyay76yQn05m2Z3paSLquk7qu5Xg8yuVyEe+9om3bPxH7Yxuex+Mhyf1+lzRNZTKZyHq9FhZ34zj+Aouk2Cb2+XwqIUi4ZHF5Op0UVEvVvNw0jQIbHyqqqpLlcqkxkBg5MVohC0dZlpJlmez3+yDfpOI/n89KOp/PZTababwRwkN8qBAZ2CSZpP/WMAxKbHlW4Q9Ck02wBb4Dv1V8u91C3z4SEvhOGPtJYrfhQP6RcLvdBpJYzmazkaIoQo+dc2pzn+e5nnXKfd+HSuyVMaoAXK9X2e12ujNZBsbk6SOPsEMIVwIBMgkGDMV3nfi+V3u1WmmyxcWfETuKrDoUJhiLxUKm06l8pam0fS++KMRlmdTOaRKDMlCFgTNFwGF/TQIri8PhcJAsz6WGsKpCH+1PYI+Bj7x4YKGH7JROf1zTKNqXPKQizeTGsIfI1z+FCw72TSm8l+ElycCQ4vN7C8jj/A1BHj8d5P1f1QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008054517288\"\n        title=\"image-20221008054517288\"\n        src=\"/static/c69b5482fa89c1ec3080ce77af09114e/37523/image-20221008054517288.png\"\n        srcset=\"/static/c69b5482fa89c1ec3080ce77af09114e/e9ff0/image-20221008054517288.png 180w,\n/static/c69b5482fa89c1ec3080ce77af09114e/f21e7/image-20221008054517288.png 360w,\n/static/c69b5482fa89c1ec3080ce77af09114e/37523/image-20221008054517288.png 720w,\n/static/c69b5482fa89c1ec3080ce77af09114e/302a4/image-20221008054517288.png 1080w,\n/static/c69b5482fa89c1ec3080ce77af09114e/07a9c/image-20221008054517288.png 1440w,\n/static/c69b5482fa89c1ec3080ce77af09114e/5e1f2/image-20221008054517288.png 2134w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppConfig</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token function\">discountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FixDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>이제 할인 정책을 변경해도, 애플리케이션의 구성 역할을 담당하는 AppConfig만 변경하면 된다. 클라이언트 코드인 OrderServiceImpl 를 포함해서 사용 영역의 어떤 코드도 변경할 필요가 없다.</p>\n</li>\n<li>\n<p>구성 영역은 당연히 변경된다. (누군가는 해야하잖아~)</p>\n<p>구성 역할을 담당하는 AppConfig를 애플리케이션이라는 공연의 기획자로 생각하자. 공연 기획자는 공연 참여자인 구현 객체들을 모두 알아야 한다.</p>\n</li>\n</ul>\n<p><code class=\"language-text\">DIP</code>와 <code class=\"language-text\">OCP</code>를 모두 만족한다!</p>\n<ul>\n<li>클라이언트가 구현체를 모르고, 클라이언트 코드를 변경할 필요가 없다.</li>\n</ul>\n<h2 id=\"-좋은-객체-지향-설계의-5가지-원칙의-적용\" style=\"position:relative;\"><a href=\"#-%EC%A2%8B%EC%9D%80-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%84%A4%EA%B3%84%EC%9D%98-5%EA%B0%80%EC%A7%80-%EC%9B%90%EC%B9%99%EC%9D%98-%EC%A0%81%EC%9A%A9\" aria-label=\" 좋은 객체 지향 설계의 5가지 원칙의 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 좋은 객체 지향 설계의 5가지 원칙의 적용</h2>\n<p>적용된 3가지 SRP, DIP, OCP를 살펴보자</p>\n<ul>\n<li>\n<h3 id=\"srp-단일-책임-원칙\" style=\"position:relative;\"><a href=\"#srp-%EB%8B%A8%EC%9D%BC-%EC%B1%85%EC%9E%84-%EC%9B%90%EC%B9%99\" aria-label=\"srp 단일 책임 원칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SRP 단일 책임 원칙</h3>\n<p>한 클래스는 하나의 책임만 가져야 한다.</p>\n<ul>\n<li>클라이언트 객체가 직접 <u>구현 객체를 생성하고 연결</u>하고 <u><strong>실행</strong></u>까지 하는, 여러 책임을 가지고 있었음</li>\n<li>SRP 원칙을 따르면서 관심사를 분리</li>\n<li>구현 객체를 생성하고 연결하는 책임은 AppConfig가 담당</li>\n<li>클라이언트 객체 실행하는 책임만 담당!</li>\n</ul>\n</li>\n<li>\n<h3 id=\"dip-의존관계-역전-원칙\" style=\"position:relative;\"><a href=\"#dip-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84-%EC%97%AD%EC%A0%84-%EC%9B%90%EC%B9%99\" aria-label=\"dip 의존관계 역전 원칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DIP 의존관계 역전 원칙</h3>\n<p>프로그래머는 “추상화에 의존해야지, 구체화에 의존하면 안된다.” 의존성 주입은 이 원칙을 따르는 방법 중 하나다.</p>\n<ul>\n<li>구체화가 아닌 추상화에 의존해야 유연하게 변경할 수 있다.</li>\n<li>클라이언트 코드가 DiscountPolicy 추상화 인터페이스에만 의존하도록 코드를 변경했다. 하지만 클라이언트 코드는 인터페이스만으로는 아무것도 실행할 수 없다.</li>\n<li>AppConfig가 클라이언트 코드 대신 구현 객체를 생성해서 클라이언트 코드에 의존관계를 주입했다. 이렇게해서 DIP 원칙을 따르면서 문제도 해결했다.</li>\n</ul>\n</li>\n<li>\n<h3 id=\"ocp-개방-폐쇄-원칙\" style=\"position:relative;\"><a href=\"#ocp-%EA%B0%9C%EB%B0%A9-%ED%8F%90%EC%87%84-%EC%9B%90%EC%B9%99\" aria-label=\"ocp 개방 폐쇄 원칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OCP 개방 폐쇄 원칙</h3>\n<p>소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야 한다</p>\n<ul>\n<li>다형성을 사용하고, 클라이언트가 DIP를 잘 지킨다.</li>\n<li>애플리케이션을 <u><strong>사용 영역</strong></u>과 <u><strong>구성 영역</strong></u>으로 나누면서 클라이언트 코드는 변경하지 않아도 된다.</li>\n<li>따라서 소프트웨어 요소를 새롭게 확장해도 사용 영역의 변경은 닫혀 있다. (변경할 필요가 없다.)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-ioc-di-그리고-컨테이너\" style=\"position:relative;\"><a href=\"#-ioc-di-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\" aria-label=\" ioc di 그리고 컨테이너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 IoC, DI, 그리고 컨테이너</h2>\n<ul>\n<li>\n<h3 id=\"제어의-역전-iocinversion-of-control\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EC%96%B4%EC%9D%98-%EC%97%AD%EC%A0%84-iocinversion-of-control\" aria-label=\"제어의 역전 iocinversion of control permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>제어의 역전 IoC(Inversion of Control)</h3>\n<p>기존 프로그램은 <u><strong>클라이언트</strong></u> 구현 객체가 스스로 필요한 <u><strong>서버</strong></u> 구현 객체를 생성, 연결하여 실행했다. <u><strong>구현 객체가 프로그램의 제어 흐름을 조종</strong></u>한 것이다.</p>\n<p>반면 AppConfig가 등장한 후엔 AppConfig가 프로그램에 대한 제어 흐름 권하을 가지고 있다. 이렇듯 프로그램의 제어 흐름을 직접 제어하는 것이 아니라 <u><strong>외부에서 관리하는 것을 제어의 역전(IoC)</strong></u>이라 한다.</p>\n</li>\n<li>\n<h3 id=\"프레임워크--라이브러리\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC--%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC\" aria-label=\"프레임워크  라이브러리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프레임워크 / 라이브러리</h3>\n<ul>\n<li>프레임워크: 내가 작성한 코드를 제어하고, 대신 실행해준다. (예: JUnit이 자신만의 라이프사이클(BeforeEach, Test, …)에 맞게 내가 작성한 테스트 코드를 실행해준다.)</li>\n<li>라이브러리: 내가 불러다가 직접 호출하는 것. 즉, 내가 작성한 코드가 직접 제어의 흐름을 담당한다.</li>\n</ul>\n</li>\n<li>\n<h3 id=\"의존관계-주입-di-dependency-injection\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84-%EC%A3%BC%EC%9E%85-di-dependency-injection\" aria-label=\"의존관계 주입 di dependency injection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>의존관계 주입 DI (Dependency Injection)</h3>\n<ul>\n<li>\n<p>의존관계</p>\n<p>의존관계는 <u><strong>정적인 클래스 의존 관계</strong></u>와, <u><strong>실행 시점에 결정되는 동적인 객체(인스턴스) 의존 관계</strong></u> 둘을 분리해서 생각해야 한다.</p>\n<blockquote>\n<p><code class=\"language-text\">정적인 클래스 의존관계</code></p>\n<ul>\n<li>\n<p>클래스가 사용하는 import 코드만 보고 의존관계를 쉽게 판단 가능</p>\n</li>\n<li>\n<p>애플리케이션을 실행하지 않아도 분석 가능</p>\n</li>\n<li>\n<p>클래스 다이어그램</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeklEQVQ4y32TWavCQAyF5///reKTfRREkFpcW6vWrdpFm8sXiASXGwg2mcyZk5MYns+nmPV9r/4thzVNI/f7Xc7ns+z3e/2u6/p15/F4SCBxuVy04Hq9Std1enm322muLEv14/Eo8/lcZrOZxHEsg8FAkiSRqqpejwMaSEwmE4miSNI0VUBeBIwC7zCAAGeLxUIZGwFjGUjcbjdZLpfagl2G0btxDgj1tN22reZMEgW0Yg69AWj6wQynG/s2B5y7fEMuoFuWZbJer/UXPU10jAu0t9lstGa1WklRFFpDjhinngcDAHmeaxGAp9NJ3QBpkTPiw+Ggw4I9rRL7HPoGqHrhzZisaeONetPr/Y5q6BM2Lb82MLD1YQvIj8djGQ6Hst1uVRK/vy9AS35jZYboaM7+jUYjfcTW5oOhB/Pg/gHbQ1ihM9Ml/hfwGxg1BmLiw8xiWDM86j80/NUqm8Dy8/dDR9ZmOp3q6pBjW7CPKf9yGHjnEZj6mJb/AAc+P7cUSnQKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008154822744\"\n        title=\"image-20221008154822744\"\n        src=\"/static/b88cee4c31bba48d916a61672fe2aca0/37523/image-20221008154822744.png\"\n        srcset=\"/static/b88cee4c31bba48d916a61672fe2aca0/e9ff0/image-20221008154822744.png 180w,\n/static/b88cee4c31bba48d916a61672fe2aca0/f21e7/image-20221008154822744.png 360w,\n/static/b88cee4c31bba48d916a61672fe2aca0/37523/image-20221008154822744.png 720w,\n/static/b88cee4c31bba48d916a61672fe2aca0/302a4/image-20221008154822744.png 1080w,\n/static/b88cee4c31bba48d916a61672fe2aca0/07a9c/image-20221008154822744.png 1440w,\n/static/b88cee4c31bba48d916a61672fe2aca0/bcec6/image-20221008154822744.png 1834w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n</ul>\n<p><code class=\"language-text\">동적인 객체 인스턴스 의존 관계</code></p>\n<ul>\n<li>\n<p>애플리케이션 실행 시점에 실제로! 생성된 객체 인스턴스의 참조가 연결된 의존 관계다.</p>\n</li>\n<li>\n<p>객체 다이어그램</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsElEQVQY05WRWQrEMAxDc//T9bMXKKX7SrrXwxO4lPmaMQgRK5acNlzXZfd9P+DsePddg4/jsBijDcNg0zRZXdfidV0tIPrF8zztXd8BXl3XyRCjsiwtSRLL89y2bbOwLIu1bSuBlHEclcQQA2hN00iHq6rSZl4sQRgMZMjFoihkCOgxhKEDnTD6hFBu5Mxrw/spv1bf9zLOskxhaZqK9Q094R/4T2J2nmeZsf2+7/YBipfTMmGpoaIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008154925869\"\n        title=\"image-20221008154925869\"\n        src=\"/static/290e6b45a9ffd534be02dd6360676f1d/37523/image-20221008154925869.png\"\n        srcset=\"/static/290e6b45a9ffd534be02dd6360676f1d/e9ff0/image-20221008154925869.png 180w,\n/static/290e6b45a9ffd534be02dd6360676f1d/f21e7/image-20221008154925869.png 360w,\n/static/290e6b45a9ffd534be02dd6360676f1d/37523/image-20221008154925869.png 720w,\n/static/290e6b45a9ffd534be02dd6360676f1d/302a4/image-20221008154925869.png 1080w,\n/static/290e6b45a9ffd534be02dd6360676f1d/07a9c/image-20221008154925869.png 1440w,\n/static/290e6b45a9ffd534be02dd6360676f1d/bcec6/image-20221008154925869.png 1834w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>의존관계 주입</p>\n<p>애플리케이션 실행 시점(런타임)에 <u><strong>외부에서</strong></u> 실제 구현 객체를 생성하고, 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결되는 것</p>\n<p>객체 인스턴스를 생성하고 참조값을 전달해서 연결한다.</p>\n<p>의존관계 주입을 사용하면 <u><strong>클라이언트 코드를 변경하지 않고, 클라이언트가 호출하는 대상의 타입 인스턴스를 변경</strong></u>할 수 있다 ➡️ 의존관계 주입을 사용하면 정<u><strong>적인 클래스 의존관계를 변경하지 않고, 동적인 객체 인스턴스 의존관계를 쉽게 변경</strong></u>할 수 있다.</p>\n</li>\n<li>\n<p><u><strong>IoC 컨테이너, DI 컨테이너</strong></u></p>\n<ul>\n<li>이렇게 <code class=\"language-text\">AppConfig</code>처럼 객체를 생성, 관리하면서 의존관계를 연결해주는 것을 IoC 컨테이너 혹은 DI 컨테이너라고 한다.</li>\n<li>하지만 IoC를 해주는 곳이 많이 범용적이라서(예: JUnit 등등..) 최근에는 주로 <u><strong>DI 컨테이너</strong></u>라고 한다.</li>\n<li>또는 어셈블러(조립해준다고) 또는 오브젝트 팩토리 등으로 부른다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-스프링으로-전환하기\" style=\"position:relative;\"><a href=\"#-%EC%8A%A4%ED%94%84%EB%A7%81%EC%9C%BC%EB%A1%9C-%EC%A0%84%ED%99%98%ED%95%98%EA%B8%B0\" aria-label=\" 스프링으로 전환하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📌 스프링으로 전환하기</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">@Configuration</code>: 애플리케이션의 구성, 설정 정보</p>\n</li>\n<li>\n<p><code class=\"language-text\">@Bean</code>: 스프링 컨테이너에 등록이 된다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">AppConfig</code></p>\n<ul>\n<li>\n<p>AppConfig에 @Configuration을 붙이고, 구현 객체를 반환하던 함수에 @Bean을 붙인다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppConfig</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberRepository</span> <span class=\"token function\">memberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MemoryMemberRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\t\t<span class=\"token comment\">// 쭈욱..</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">ApplicationContext</code></p>\n<ul>\n<li>\n<p>스프링은 모든게 ApplicationContext에서 시작한다. 이게 스프링 컨테이너라고 보면 된다. 스프링 Bean 등 모든 걸 관리해준다.</p>\n<ul>\n<li>구현체로 <code class=\"language-text\">AnnotationConfigApplicationContext</code> 사용하자.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">MemberApp</code>: 회원 테스트</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberApp</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// AppConfig appConfig = new AppConfig();</span>\n        <span class=\"token comment\">// MemberService memberService = appConfig.memberService();</span>\n\n        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnnotationConfigApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AppConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">MemberService</span> memberService <span class=\"token operator\">=</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberService\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// 테스트 코드..</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>기존과 똑같이 작동한다!</p>\n<ul>\n<li>스프링이 빈 객체를 생성해서 등록해준다. (appConfig 역시 마찬가지)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVQI142NzQ6CMBCE+0JwUC5YELrd3WJKisbE93+TIV3Fm4mHyezfN+vGJeJ6YwwaMa9i9ZgivJJ57auoCHoKuPB7Xjkv9PWDc3FT0KYWJs8EfqjBcxaEIqCiiHdFei329AivzJT5c8sIqxjrJs7oekJz8mi7Ae35t5o/djthPWiDphcgSgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20221008160221121\"\n        title=\"image-20221008160221121\"\n        src=\"/static/47e764b6c57c656ad2ac8240c550c326/37523/image-20221008160221121.png\"\n        srcset=\"/static/47e764b6c57c656ad2ac8240c550c326/e9ff0/image-20221008160221121.png 180w,\n/static/47e764b6c57c656ad2ac8240c550c326/f21e7/image-20221008160221121.png 360w,\n/static/47e764b6c57c656ad2ac8240c550c326/37523/image-20221008160221121.png 720w,\n/static/47e764b6c57c656ad2ac8240c550c326/302a4/image-20221008160221121.png 1080w,\n/static/47e764b6c57c656ad2ac8240c550c326/f09ab/image-20221008160221121.png 1250w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n<li>\n<p>key는 함수 이름, value는 객체 인스턴스로 등록되는 것이다.</p>\n</li>\n<li>\n<p>따라서 위에 <code class=\"language-text\">MemberService memberService = applicationContext.getBean(\"memberService\", MemberService.class);</code> 부분을 보면, “memberService”로 MemberService 클래스 인스턴스를 받아오는 것이다.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">OrderApp</code>: 주문 테스트</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderApp</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// AppConfig appConfig = new AppConfig();</span>\n        <span class=\"token comment\">// MemberService memberService = appConfig.memberService();</span>\n        <span class=\"token comment\">// OrderService orderService = appConfig.orderService();</span>\n\n        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnnotationConfigApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AppConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">MemberService</span> memberService <span class=\"token operator\">=</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberService\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MemberService</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">OrderService</span> orderService <span class=\"token operator\">=</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"orderService\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">OrderService</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// 테스트 코드..</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>역시 그대로 동작!</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"스프링-컨테이너\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\" aria-label=\"스프링 컨테이너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 컨테이너</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">ApplicationContext</code> 를 스프링 컨테이너라 한다.</p>\n</li>\n<li>\n<p>기존에는 개발자가 <code class=\"language-text\">AppConfig</code>를 사용해서 직접 객체를 생성하고 DI를 했지만, 이제부터는 <u><strong>스프링 컨테이너</strong></u>를 통해서 사용한다.</p>\n</li>\n<li>\n<p>스프링 컨테이너는 <code class=\"language-text\">@Configuration</code> 이 붙은 AppConfig 를 설정(구성) 정보로 사용한다. 여기서 <u><strong><code class=\"language-text\">@Bean</code> 이라 적힌 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너</strong></u>에 등록한다. 이렇게 <u><strong>스프링 컨테이너에 등록된 객체를 스프링 빈</strong></u>이라 한다. 스프링 빈은 @Bean 이 붙은 메서드의 명을 스프링 빈의 이름으로 사용한다. ( memberService , orderService )</p>\n</li>\n<li>\n<p>이전에는 개발자가 필요한 객체를 <code class=\"language-text\">AppConfig</code> 를 사용해서 직접 조회했지만, 이제부터는 <u><strong>스프링 컨테이너를 통해서 필요한 스프링 빈(객체)를 찾아야 한다</strong></u>. 스프링 빈은 applicationContext.getBean() 메서드를 사용해서 찾을 수 있다.</p>\n</li>\n<li>\n<p>기존에는 개발자가 직접 자바코드로 모든 것을 했다면 이제부터는 스프링 컨테이너에 객체를 스프링 빈으로 등록하고, 스프링 컨테이너에서 스프링 빈을 찾아서 사용하도록 변경되었다.</p>\n<blockquote>\n<h3 id=\"코드가-약간-더-복잡해진-것-같은데-스프링-컨테이너를-사용하면-어떤-장점이-있을까\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EA%B0%80-%EC%95%BD%EA%B0%84-%EB%8D%94-%EB%B3%B5%EC%9E%A1%ED%95%B4%EC%A7%84-%EA%B2%83-%EA%B0%99%EC%9D%80%EB%8D%B0-%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%96%B4%EB%96%A4-%EC%9E%A5%EC%A0%90%EC%9D%B4-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"코드가 약간 더 복잡해진 것 같은데 스프링 컨테이너를 사용하면 어떤 장점이 있을까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드가 약간 더 복잡해진 것 같은데, 스프링 컨테이너를 사용하면 어떤 장점이 있을까?</h3>\n<p>이제부터 알아보자~</p>\n</blockquote>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EF%B8%8F-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B42---%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%9B%90%EB%A6%AC-%EC%A0%81%EC%9A%A9\">☘️ 스프링 핵심 원리 이해2 - 객체 지향 원리 적용</a></p>\n<ul>\n<li>\n<p><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EA%B0%9C%EB%B0%9C\">📌 새로운 할인 정책 개발</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EC%A0%81%EC%9A%A9%EA%B3%BC-%EB%AC%B8%EC%A0%9C%EC%A0%90\">📌 새로운 할인 정책 적용과 문제점</a></p>\n<ul>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\">문제점</a></li>\n<li><a href=\"#%ED%95%B4%EA%B2%B0\">해결?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EA%B4%80%EC%8B%AC%EC%82%AC%EC%9D%98-%EB%B6%84%EB%A6%AC\">📌 관심사의 분리</a></p>\n<ul>\n<li><a href=\"#%EA%B4%80%EC%8B%AC%EC%82%AC%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%98%EC%9E%90\">관심사를 분리하자</a></li>\n<li><a href=\"#appconfig-%EB%93%B1%EC%9E%A5\"><code class=\"language-text\">AppConfig</code> 등장</a></li>\n<li><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-appconfig-%EB%A6%AC%ED%8C%A9%ED%84%B0%EB%A7%81\">📌 AppConfig 리팩터링</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B5%AC%EC%A1%B0%EC%99%80-%ED%95%A0%EC%9D%B8-%EC%A0%95%EC%B1%85-%EC%A0%81%EC%9A%A9\">📌 새로운 구조와 할인 정책 적용</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%A2%8B%EC%9D%80-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%84%A4%EA%B3%84%EC%9D%98-5%EA%B0%80%EC%A7%80-%EC%9B%90%EC%B9%99%EC%9D%98-%EC%A0%81%EC%9A%A9\">📌 좋은 객체 지향 설계의 5가지 원칙의 적용</a></p>\n</li>\n<li>\n<p><a href=\"#-ioc-di-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\">📌 IoC, DI, 그리고 컨테이너</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%8A%A4%ED%94%84%EB%A7%81%EC%9C%BC%EB%A1%9C-%EC%A0%84%ED%99%98%ED%95%98%EA%B8%B0\">📌 스프링으로 전환하기</a></p>\n<ul>\n<li><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\">스프링 컨테이너</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"October 08, 2022","title":"객체 지향 원리 적용 - 스프링 핵심 원리 기본편 03","categories":"강의","author":"goldggyul","emoji":null,"imageEmoji":"spring-logo.png"},"fields":{"slug":"/spring-core-basic-003/"}},"site":{"siteMetadata":{"siteUrl":"https://goldggyul.github.io","comments":{"utterances":{"repo":"goldggyul/goldggyul.github.io"}}}}},"pageContext":{"slug":"/spring-core-basic-002/","nextSlug":"/book-object-real-002/","prevSlug":"/spring-core-basic-003/"}},"staticQueryHashes":["1956554647","2938748437","3350743975","3454833782"]}