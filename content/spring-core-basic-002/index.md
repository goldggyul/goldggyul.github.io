---
imageEmoji: spring-logo.png
title: μμ  λ§λ“¤κΈ° - μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ κΈ°λ³ΈνΈ 02 | λ§¤μΌ 1μ‹κ°„ π‘¨π»β€π« 7μΌμ°¨
date: '2022-10-07 21:48:00'
author: goldggyul
tags: κ°•μ
categories: κ°•μ
---

> λ³Έ κ²μ‹κΈ€μ€ [μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ - κΈ°λ³ΈνΈ](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8) κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν–μµλ‹λ‹¤.

#  βοΈ μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄1 - μμ  λ§λ“¤κΈ°

κ·ΈλΌ μΈν„°νμ΄μ¤(μ—­ν• )μ™€ κµ¬ν„ν•λ” κ°μ²΄λ¥Ό λ‚λ„μ–΄μ„ κ°λ°μ„ ν•΄λ³΄μ

## π“ ν”„λ΅μ νΈ μƒμ„±

μμ μλ°”λ΅λ§ ν• κ±°λΌ μ¤ν”„λ§μ„ μ“°μ§„ μ•μ§€λ§ μ„Έν…ν•  λ• μ¤ν”„λ§λ¶€νΈλ¥Ό μ΄μ©ν•λ©΄ νΈν•΄μ„ μΌλ‹¨ μ¤ν”„λ§λ¶€νΈλ΅ μƒμ„±ν•μ -> [μ¤ν”„λ§ λ¶€νΈ μ¤νƒ€ν„°](https://start.spring.io)

- μ¤ν”„λ§ λ¶€νΈ λ²„μ „μ—μ„ snapshot, m5 μ΄λ° κ±΄ μ•μ •ν™”κ°€ μ•„μ§ μ•λ κ²ƒμ΄λ‹ κ°€μ¥ μµμ‹  μ•μ •ν™”κ°€ λ κ±Έ μ„ νƒν•μ. (ν„μ¬ μ‹μ  2.7.4)
- artifactκ°€ ν”„λ΅μ νΈ λΉλ“λ…μ΄ λλ‹¤.

- μλ°” 11
- dependencyλ” μ„ νƒν•μ§€ μ•λ”λ‹¤.

μƒμ„± ν›„ μΈν…”λ¦¬μ μ΄μ—μ„ μ—΄μ–΄μ£Όμ. μ΄ λ• Preference>Build>Build Tools>Gradleμ—μ„ Build and run, Run testsλ¥Ό gradleμ΄ μ•„λ‹ intellijλ¥Ό μ‚¬μ©ν•λ„λ΅ λ³€κ²½ν•μ. μ΄κ² μΆ€ λ” λΉ λ¥΄λ‹¤.

## π“ λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­

> ### μ—­ν• κ³Ό κµ¬ν„ κµ¬λ¶„ν•κΈ°!

μ°μ„  μ”κµ¬μ‚¬ν•­μ€ 3κ°€μ§€λ΅ `νμ›`, `μ£Όλ¬Έ`, `ν• μΈ μ •μ±…`μ΄ μλ‹¤.

### νμ›

- νμ›μ„ κ°€μ…ν•κ³  μ΅°νν•  μ μλ‹¤.
- νμ›μ€ μΌλ°κ³Ό VIP λ‘ κ°€μ§€ λ“±κΈ‰μ΄ μλ‹¤.
- νμ› λ°μ΄ν„°λ” μμ²΄ DBλ¥Ό κµ¬μ¶•ν•  μ μκ³ , μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™ν•  μ μλ‹¤. (λ―Έν™•μ •)

### μ£Όλ¬Έκ³Ό ν• μΈ μ •μ±…

- νμ›μ€ μƒν’μ„ μ£Όλ¬Έν•  μ μλ‹¤.
- νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈ μ •μ±…μ„ μ μ©ν•  μ μλ‹¤.
- ν• μΈ μ •μ±…μ€ λ¨λ“  VIPλ” 1000μ›μ„ ν• μΈν•΄μ£Όλ” κ³ μ • κΈμ•΅ ν• μΈμ„ μ μ©ν•΄λ‹¬λΌ. (λ‚μ¤‘μ— λ³€κ²½ λ  μ μλ‹¤.)
- ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ†’λ‹¤. νμ‚¬μ κΈ°λ³Έ ν• μΈ μ •μ±…μ„ μ•„μ§ μ •ν•μ§€ λ»ν–κ³ , μ¤ν” μ§μ „κΉμ§€ κ³ λ―Όμ„ λ―Έλ£¨κ³  μ‹¶λ‹¤. μµμ•…μ κ²½μ° ν• μΈμ„ μ μ©ν•μ§€ μ•μ„ μ λ„ μλ‹¤. (λ―Έν™•μ •)

μ”κµ¬ μ‚¬ν•­μ„ μ •λ¦¬ν•΄λ³΄λ©΄ νμ› λ°μ΄ν„°λ‚, ν• μΈ μ •μ±…μ€ μ•„μ§ κ²°μ •λμ§€ μ•μ•λ‹¤. ν•μ§€λ§ μ•μ—μ„ λ°°μ΄ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ λ°©λ²•λ€λ΅ μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κ³  κµ¬ν„μ²΄λ¥Ό μ–Έμ λ“ μ§€ κ°μ•„λΌμΈ μ μλ„λ΅ μ„¤κ³„ν•λ©΄ λλ‹¤!

## π“ νμ› λ„λ©”μΈ μ„¤κ³„

νμ› λ°μ΄ν„°κ°€ μ•„μ§ λ―Έν™•μ •μ΄λ―€λ΅, νμ› μ €μ¥μ† μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κ³  κµ¬ν„μ²΄λ¥Ό λ§λ“¤μ.

### νμ› λ„λ©”μΈ ν‘λ ¥ κ΄€κ³„

![image-20221007221452413](./assets/image-20221007221452413.png)

### νμ› ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨

![image-20221007221507687](./assets/image-20221007221507687.png)

### νμ› κ°μ²΄ λ‹¤μ΄μ–΄κ·Έλ¨

κ°μ²΄ κ°„ μ°Έμ΅°λ¥Ό λ‚νƒ€λ‚Έλ‹¤.

![image-20221007221536803](./assets/image-20221007221536803.png)

- νμ› μ„λΉ„μ¤: `MemberServiceImpl`

λ©μ ? μ‹¤μ λ΅ μ„λ²„κ°€ μ‹¤ν–‰ λκ³  λ°νƒ€μ„μ— MemberRepositoryμ— μ–΄λ–¤ κµ¬ν„μ²΄κ°€ λ“¤μ–΄κ° μ§€λ” ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨λ§μΌλ΅λ” μ• μ μ—†λ‹¤. λ°νƒ€μ„μ— λ™μ μΌλ΅ κ²°μ •λλ‹¤. λ”°λΌμ„ νλ‹¨ν•κΈ° μ–΄λ ¤μ°λ―€λ΅, κ°μ²΄ λ‹¤μ΄μ–΄κ·Έλ¨μ—μ„ μ‹¤μ  μ‚¬μ©ν•λ” κ΄€κ³„λ¥Ό λ‚νƒ€λ‚Έλ‹¤. μ‹¤μ λ΅ new ν• κ°μ²΄λ“¤λΌλ¦¬μ μ°Έμ΅°λ¥Ό λ³Ό μ μλ‹¤.

ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨μ€ μ •μ , κ°μ²΄ λ‹¤μ΄λ¬κ·Έλ¨μ€ λ™μ μΈ κ΄€κ³„λ¥Ό λ‚νƒ€λ‚Έλ‹¤.

## π“ νμ› λ„λ©”μΈ κ°λ°

- λ‹¨μ¶•ν‚¤
  - `Command + Option + V`: μ™Όμ½ μ„ μ–Έλ¶€ μ±„μ°κΈ°
  - `Command + Shift + Enter`: ν• μ¤„ λ§λ¬΄λ¦¬
  
- Grade

  ```java
  public enum Grade {
      BASIC,
      VIP
  }
  ```

- Member
  ```java
  public class Member {
      private Long id;
      private String name;
      private Grade grade;
  
      // μƒμ„±μμ™€ Getter Setter
  }
  ```
  
- MemberRepository(Interface)
  ```java
  public interface MemberRepository {
      void save(Member member);
      Member findById(Long memberId);
  }
  ```
  
- MemoryMemberRepository(κµ¬ν„μ²΄)
  ```java
  public class MemoryMemberRepository implements MemberRepository {
  
      private static Map<Long, Member> store = new HashMap<>();
  
      @Override
      public void save(Member member) {
          store.put(member.getId(), member);
      }
  
      @Override
      public Member findById(Long memberId) {
          return store.get(memberId);
      }
  }
  ```
  
- MemberService(Interface)
  ```java
  public interface MemberService {
      void join(Member member);
      Member findMember(Long memberId);
  }
  ```
  
- MemberServiceImple(κµ¬ν„μ²΄)
  
  - μΈν„°νμ΄μ¤μ— λ€ν• κµ¬ν„μ²΄κ°€ ν•λ‚λ§ μμΌλ©΄ `μΈν„°νμ΄μ¤λ…+Impl`μ„ λ§μ΄ μ‚¬μ©ν•λ‹¤. 
  
  ```java
  public class MemberServiceImpl implements MemberService {
  
      private final MemberRepository memberRepository = new MemoryMemberRepository();
  
      @Override
      public void join(Member member) {
          // λ‹¤ν•μ„±μ— μν•΄ κµ¬ν„μ²΄μ save λ©”μ„λ“ νΈμ¶λ¨
          memberRepository.save(member);
      }
  
      @Override
      public Member findMember(Long memberId) {
          return memberRepository.findById(memberId);
      }
  }
  ```


## π“ νμ› λ„λ©”μΈ μ‹¤ν–‰κ³Ό ν…μ¤νΈ

### mainμ—μ„ ν…μ¤νΈ

- λ‹¨μ¶•ν‚¤
  - `soutv`: μ„μ— λ³€μ μ¤‘ μ„ νƒν•΄μ„ μ¶λ ¥

```java
public class MemberApp {
    public static void main(String[] args) {
        MemberService memberService = new MemberServiceImpl();
        Member member = new Member(1L, "memberA", Grade.VIP);
        memberService.join(member);

        Member findMember = memberService.findMember(1L);
        System.out.println("new member = " + member.getName());
        System.out.println("find Member = " + findMember.getName());
    }
}
```

λ§¤λ² mainμ—μ„ μ¶λ ¥ν•΄μ„ λμΌλ΅ ν™•μΈν•λ” κ²ƒμ€ μ–΄λ µλ‹¤.

### ν…μ¤νΈ ν•¨μ μ‘μ„±

- ν…μ¤νΈ λ¬Έλ²•
  - given: ~~ν• ν™κ²½μ—μ„
  - when: ~~κ² μ£Όμ–΄μ΅μ„ λ•
  - then: ~~κ² λλ‹¤ 
- λμΌλ΅ κ²°κ³Όλ¥Ό λ³΄λ©΄μ„ ν…μ¤νΈκ°€ μ λλ”μ§€ ν™•μΈν•  ν•„μ”κ°€ μ—†λ‹¤.

```java
class MemberServiceTest {

    MemberService memberService = new MemberServiceImpl();

    @Test
    void join() {
        // given
        Member member = new Member(1L, "memberA", Grade.VIP);
        // when
        memberService.join(member);
        Member findMember = memberService.findMember(1L);
        // then
        Assertions.assertThat(member).isEqualTo(findMember);
    }
}
```

----

### λ¬Έμ μ 

- OCP μ›μΉ™μ„ μ§€ν‚¤λ”κ°€?

  - κµ¬ν„μ²΄κ°€ λ°”λ€λ©΄ MemberServiceμ μ½”λ“λ¥Ό μμ •ν•΄μ•Ό ν•λ‹¤.

- DIP μ›μΉ™μ„ μ§€ν‚¤λ”κ°€?

  - MemberServiceκ°€ μΈν„°νμ΄μ¤μΈ MemberRepositoryλ¥Ό μμ΅΄ν•κ³  μκΈ΄ ν•μ§€λ§ κµ¬ν„μ²΄μΈ MemoryMemberRepositoryκΉμ§€ μμ΅΄ν•κ³  μλ‹¤.

    β΅οΈ μ¶”μƒν™”, κµ¬μ²΄ν™” λ‘λ‹¤ μμ΅΄ν•κ³  μλ‹¤.

## π“ μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ„¤κ³„

- μƒν’μ€ Itemκ°™μ€ κ°μ²΄λ¥Ό λ”°λ΅ λ§λ“λ” κ² μ•„λ‹κ³  μμ λ¥Ό κ°„λ‹¨ν•κ² λ§λ“¤κΈ° μ„ν•΄ μƒν’λ…μΌλ΅ κµ¬λ¶„ν•λ„λ΅ ν•λ‹¤.

### <u>ν‘λ ¥, μ—­ν• , μ±…μ„</u>

![image-20221007232441646](./assets/image-20221007232441646.png)

1. μ£Όλ¬Έ μƒμ„±: ν΄λΌμ΄μ–ΈνΈλ” μ£Όλ¬Έ μ„λΉ„μ¤μ— μ£Όλ¬Έ μƒμ„±μ„ μ”μ²­ν•λ‹¤.
2. νμ› μ΅°ν: ν• μΈμ„ μ„ν•΄μ„λ” νμ› λ“±κΈ‰μ΄ ν•„μ”ν•λ‹¤. κ·Έλμ„ μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› μ €μ¥μ†μ—μ„ νμ›μ„ μ΅°νν•λ‹¤.
3. ν• μΈ μ μ©: μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› λ“±κΈ‰μ— λ”°λ¥Έ ν• μΈ μ—¬λ¶€λ¥Ό ν• μΈ μ •μ±…μ— μ„μ„ν•λ‹¤.
4. μ£Όλ¬Έ κ²°κ³Ό λ°ν™: μ£Όλ¬Έ μ„λΉ„μ¤λ” ν• μΈ κ²°κ³Όλ¥Ό ν¬ν•¨ν• μ£Όλ¬Έ κ²°κ³Όλ¥Ό λ°ν™ν•λ‹¤

### μ—­ν•  + κµ¬ν„

![image-20221007232420132](./assets/image-20221007232420132.png)

<u>**μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬**</u>ν•΄μ„ μμ λ΅­κ² κµ¬ν„ κ°μ²΄λ¥Ό μ΅°λ¦½ν•  μ μκ² μ„¤κ³„ν–λ‹¤. λ•λ¶„μ— νμ› μ €μ¥μ†λ” λ¬Όλ΅ μ΄κ³ , ν• μΈ μ •μ±…λ„ μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.

- μλ¥Ό λ“¤μ–΄ μ§€κΈμ€ 1000μ›μΌλ΅ μ •μ•΅ ν• μΈμ΄λΌκ³  ν•΄λ„, μ •λ¥  ν• μΈμΌλ΅ 10%ν• μΈ λ“± λ‹¤λ¥Έ ν• μΈ μ •μ±…μ„ λ§λ“¤μ–΄ μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.

### ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨

![image-20221007232806335](./assets/image-20221007232806335.png)

### κ°μ²΄ λ‹¤μ΄μ–΄κ·Έλ¨

![image-20221007232908156](./assets/image-20221007232908156.png)

- νΉμ‹ κµ¬ν„μ²΄κ°€ λ°”λ€λ”λΌλ„ <u>**μ—­ν• λ“¤μ ν‘λ ¥ κ΄€κ³„λ¥Ό κ·Έλ€λ΅ μ¬μ‚¬μ©**</u>ν•  μ μλ‹¤.

## π“ μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ κ°λ°

- λ‹¨μ¶•ν‚¤
  - `f2`: μ¤λ¥ μλ” κ³³μΌλ΅ μ΄λ™ (ν¨ν‚¤μ§€ μ„ν¬νΈ λ»ν–μ„ λ• f2 λ„λ¥΄κ³  μµμ… μ—”ν„° ν•λ” μ‹μΌλ΅ μ΄μ©)

## π“ μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ‹¤ν–‰κ³Ό ν…μ¤νΈ